一.简介
===
* HTTP-BENCH: 代号piemon,是acp性能测试核心的压测工具,基于c++实现,提供了一个轻依赖,一键编译的的高性能压测工具.

二.编译及依赖:
===
* 1.依赖:gcc > 4.1.2
* 2.依赖:libpthread.so, libcurl.so libdl.so

三.实现功能
===
* 1.http协议的性能测试,包括指定ip,指定端口,指定qps,指定压测时间,指定压测文件等参数.*
* 2.压测报告进程结束后自动产出,包括压测时长，query 成功个数,rt等信息.
* 3.基于链式的智能流量调控流程:智能调整线程数/并发数,达到目标qps.
* 4.实时流量调整，无需重启进程,通过消息队列实时调整压力大小.

四.通用组件
* 1.智能压测调控流程.
* 2.高性能线程池.
* 3.基于curl的http通用lib.
* 4.基于汇编的原子操作方法.
* 5.消息队列读写组件.


五.启动:
===
* 1./Piemon  -d 111 -r 200 -s 600 --http -k 127.0.0.1 80 ./one_query
* 2. -r:qps  -s:压测时间  -d:消息队列id

六.编译
===
* 1.cd HttpBench && sudo sh BUILD.sh


./tools/piemon/piemon -d 3 -r 150 -s 100000000 --http -k 127.0.0.1 80 ttt
